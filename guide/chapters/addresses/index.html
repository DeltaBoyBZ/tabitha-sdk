<html>
    <head><link rel="stylesheet" href="https://deltaboybz.github.io/tabitha-sdk/guide/css/global.css">
<link rel="stylesheet" href="https://deltaboybz.github.io/tabitha-sdk/guide/css/chapter.css">
    </head>
    <body>
    <div id="title-div">
        <h1> Tabitha Programming Guide </h1>
        <h2> Addresses </h2> 
    </div>
    <div id="logo-div">
        <a href="https://deltaboybz.github.io/tabitha-sdk">
            <img id="tabi-logo" src="https://deltaboybz.github.io/tabitha-sdk/guide/svg/logo.svg ">
        </a>
    </div>
    <div id="menu-div">
        <hr class="toc"> 
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/introduction"><div class="toc"><h3 class="toc">Introduction</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/getting_started"><div class="toc"><h3 class="toc">Getting Started</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/type_system"><div class="toc"><h3 class="toc">The Type System</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/contexts"><div class="toc"><h3 class="toc">Contexts</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/declarations"><div class="toc"><h3 class="toc">Declarations</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/functions"><div class="toc"><h3 class="toc">Functions</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/addresses"><div class="toc"><h3 class="toc">Addresses</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/vectors"><div class="toc"><h3 class="toc">Vectors</h3></div></a></li>
        <hr class="toc">
        
        <a class="toc" href="/tabitha-sdk/guide/chapters/tables"><div class="toc"><h3 class="toc">Tables</h3></div></a></li>
        <hr class="toc">
        
    </div>
    <div id="text-div">
    <p>In Tabitha, an address is what a <code>C</code> programmer might call a <em>pointers</em>.
It is a value which identifies a location in memory where data is stored.
Addresses are very useful for developing performant applications.</p>
<h2 id="declaring-an-address">Declaring an Address</h2>
<p>Since they have their own types,
addresses can be declared just  like any other  variables.</p>
<pre><code>Addr[Int] x
stacked Addr[Int] y 
heaped Addr[Int] z 
</code></pre>
<p>The type <code>Addr[Int]</code> is one which belongs to variables representing the memory address of some integer.
Similarly,  <code>Addr[Float]</code> is for the address of a <code>Float</code>.
We can create addresses for any type, including other addresses.
For example if we were to make a declaration,</p>
<pre><code>Addr[Addr[Int]] x
</code></pre>
<p>then this <code>x</code> would hold the memory address to data which corresponds
to the address of an integer.</p>
<h2 id="getting-an-address">Getting an Address</h2>
<p>Given a variable or subvalue thereof, we can get its address in memory using the <strong>locate</strong> operator <code>?</code>.</p>
<pre><code>Int x = 10 
Addr[Int] x_addr = x? 
</code></pre>
<p>The variable <code>x_addr</code> should now hold the memory address of the variable <code>x</code>.
We can do this with any referencable value in Tabitha.
For example, we can do it with  vector elements:</p>
<pre><code>Vec[Int, 10] x
Addr[Int] elem_ptr = x[3]? 
</code></pre>
<p>The variable <code>elem_ptr</code> holds the memory address where we find the elemnt of index <code>3</code> of vector <code>x</code>.
This also wors with members of collections types.</p>
<pre><code>collection type Point {
    Float x
    Float y
}

function foo {
    Point p 
    p.x = 10
    Addr[Float px_ptr = p.x?  
}
</code></pre>
<p>The variable <code>px_ptr</code> hold the memory address where we can find the value <code>p.x</code>,
which happens to be <code>10</code>-</p>
<h2 id="querying-an-address">Querying an Address</h2>
<p>Given some address, we can get the value found at that address using the query operator <code>@</code>.</p>
<pre><code>Int a = 10
Int b = 20 
Addr[Int] a_ptr = a? 
Addr[Int] b_ptr = b? 
Int c = @a_ptr + @b_ptr
</code></pre>
<p>Here, we have taken some extra steps in summing two varaibles,
for the sake of demonstrationo.
We  have two variables <code>a</code> and <code>b</code>.
We get their memory addresses and store them in <code>a_ptr</code> and <code>b_ptr</code> respectively.
We then create a new variable <code>c</code> and assign it the sum of the integer values found at
<code>a_ptr</code> and <code>b_ptr</code>.
Now <code>c</code> should have the value <code>30</code>.</p>
<p>It should be note that, as of yet, Tabitha does <strong>not</strong> support address arithmetic.
That is, it does not allow one to add addresses together, or add numbers to addresses.
This may be changed in the future.</p>

    </div>
    </body>
</html>
